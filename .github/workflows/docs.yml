name: Trigger Docs Deploy

on:
  push:
    branches: [ main ]
    paths:
      - 'docs/**'

permissions:
  actions: write
  contents: read

jobs:
  trigger:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger docs branch pages workflow
        uses: actions/github-script@v7
        with:
          script: |
            await github.rest.actions.createWorkflowDispatch({
              owner: context.repo.owner,
              repo: context.repo.repo,
              workflow_id: 'pages.yaml',
              ref: 'gh-pages',
            });
